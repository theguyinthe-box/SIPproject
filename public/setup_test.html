<!DOCTYPE html>
<html>

<head>
  <!-- Could you tell that I am not a web developer :P -->
  <link rel="stylesheet" type="text/css" href="main.css">
  <meta charset="UTF-8" />
</head>

<body>
  <div class="center_wrap">
    <button style="font-size: 200px;" onclick="">Run Model</button>
  </div>

</body>

<script>


window.onload = async function () {
  
  await waitForServer(1000);
  // Redirect to the Input Page
  window.location.href = '/id_input.html'
}

async function waitForServer(timeout=2000) {
    const url = 'http://127.0.0.1:3001/getStatus';
    let serverOn = false;
    while (!serverOn) {
        try {
            const response = await fetch(url);
            if (response.ok) {
                serverOn = true;
                return true;
            }
        } catch (error) {
            await new Promise(r => setTimeout(r, timeout));
        }
    }
    return true; 
}

async function startDockerContainer(){
    await fetch("/runModel", {
        method: "GET"
    });
}

</script>

</html>